(function(t){function n(n){for(var o,i,s=n[0],c=n[1],l=n[2],u=0,d=[];u<s.length;u++)i=s[u],r[i]&&d.push(r[i][0]),r[i]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(t[o]=c[o]);f&&f(n);while(d.length)d.shift()();return a.push.apply(a,l||[]),e()}function e(){for(var t,n=0;n<a.length;n++){for(var e=a[n],o=!0,i=1;i<e.length;i++){var s=e[i];0!==r[s]&&(o=!1)}o&&(a.splice(n--,1),t=c(c.s=e[0]))}return t}var o={},i={app:0},r={app:0},a=[];function s(t){return c.p+"js/"+({cart:"cart"}[t]||t)+"."+{cart:"7125d229"}[t]+".js"}function c(n){if(o[n])return o[n].exports;var e=o[n]={i:n,l:!1,exports:{}};return t[n].call(e.exports,e,e.exports,c),e.l=!0,e.exports}c.e=function(t){var n=[],e={cart:1};i[t]?n.push(i[t]):0!==i[t]&&e[t]&&n.push(i[t]=new Promise(function(n,e){for(var o="css/"+({cart:"cart"}[t]||t)+"."+{cart:"64a6687f"}[t]+".css",r=c.p+o,a=document.getElementsByTagName("link"),s=0;s<a.length;s++){var l=a[s],u=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(u===o||u===r))return n()}var d=document.getElementsByTagName("style");for(s=0;s<d.length;s++){l=d[s],u=l.getAttribute("data-href");if(u===o||u===r)return n()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=n,f.onerror=function(n){var o=n&&n.target&&n.target.src||r,a=new Error("Loading CSS chunk "+t+" failed.\n("+o+")");a.request=o,delete i[t],f.parentNode.removeChild(f),e(a)},f.href=r;var g=document.getElementsByTagName("head")[0];g.appendChild(f)}).then(function(){i[t]=0}));var o=r[t];if(0!==o)if(o)n.push(o[2]);else{var a=new Promise(function(n,e){o=r[t]=[n,e]});n.push(o[2]=a);var l,u=document.createElement("script");u.charset="utf-8",u.timeout=120,c.nc&&u.setAttribute("nonce",c.nc),u.src=s(t),l=function(n){u.onerror=u.onload=null,clearTimeout(d);var e=r[t];if(0!==e){if(e){var o=n&&("load"===n.type?"missing":n.type),i=n&&n.target&&n.target.src,a=new Error("Loading chunk "+t+" failed.\n("+o+": "+i+")");a.type=o,a.request=i,e[1](a)}r[t]=void 0}};var d=setTimeout(function(){l({type:"timeout",target:u})},12e4);u.onerror=u.onload=l,document.head.appendChild(u)}return Promise.all(n)},c.m=t,c.c=o,c.d=function(t,n,e){c.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:e})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,n){if(1&n&&(t=c(t)),8&n)return t;if(4&n&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(c.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var o in t)c.d(e,o,function(n){return t[n]}.bind(null,o));return e},c.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(n,"a",n),n},c.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},c.p="/",c.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=n,l=l.slice();for(var d=0;d<l.length;d++)n(l[d]);var f=u;a.push([0,"chunk-vendors"]),e()})({0:function(t,n,e){t.exports=e("56d7")},5106:function(t,n,e){},"56d7":function(t,n,e){"use strict";e.r(n);e("4917"),e("6b54"),e("cadf"),e("551c"),e("097d");var o=e("2b0e"),i=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},r=[],a=(e("5c0b"),e("2877")),s={},c=Object(a["a"])(s,i,r,!1,null,null,null),l=c.exports,u=e("8c4f"),d=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"listings listing-grid"},[e("div",{staticClass:"header"},[e("div",{staticClass:"title"},[t._v("\n        TIGERNUT MILK\n      ")]),e("router-link",{staticClass:"icon shopping-cart",attrs:{to:"cart"}}),e("router-link",{staticClass:"web-only cart-text",attrs:{to:"cart"}},[t._v("Cart")]),e("router-link",{staticClass:"mobile-only cart-notify",attrs:{to:"cart"}},[e("p",[t._v(t._s(t.cartProducts.length))])])],1),e("div",{staticClass:"description"},[t._v("\n      Tamcherie Foods Nigeria 🇳🇬 100% Organic 🌐 Available Flavours include: \n      Ginger 💛 Cinnamon ❤ Coconut💚 Unsweetened 💙 Made fresh daily. \n      Order on Whatsapp/DM 📞(+234) 805 618 2583\n  ")]),e("div",{staticClass:"listings-background"}),e("div",{staticClass:"content"},[t.listings.loading?e("loading",{staticClass:"midline"}):t._l(t.listings.products,function(n,o){return e("div",{key:o,staticClass:"listing-container cursor-pointer",class:o},[e("div",{staticClass:"overlay web-only",on:{click:function(e){t.openListingModal(n)}}}),e("img",{staticClass:"image",attrs:{src:n.imageUrl,alt:"Product"},on:{click:function(e){t.openListingModal(n)}}}),e("p",{staticClass:"amount"},[t._v("N"+t._s(t._f("savageprice")(n.amount)))]),e("div",{staticClass:"title"},[t._v("\n        "+t._s(n.title)+"\n      ")]),e("div",{staticClass:"description"},[t._v("\n        "+t._s(n.description)+"\n      ")]),e("button",{staticClass:"btn btn-secondary",on:{click:function(e){t.handleCart(n.id)}}},[t._v("\n        "+t._s(t.isInCart(n.id)?"Remove from cart":"Add to cart")+"\n      ")])])}),e("div",{staticClass:"midline load-more",on:{click:t.loadMoreProducts}},[t.listings.moreLoading?e("loading"):e("p",[t._v("See more")])],1),e("div",{staticClass:"line left web-only"}),e("div",{staticClass:"follow midline web-only"},[t._v("Follow us on instagram")]),e("div",{staticClass:"line right web-only"})],2),e("listing-modal")],1)},f=[],g=e("cebc"),p=e("2f62"),m=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("el-dialog",{attrs:{visible:t.modals.listingModal,animation:"zoom","before-close":t.closeModal},on:{"update:visible":function(n){t.$set(t.modals,"listingModal",n)}}},[e("div",{staticClass:"listing-modal"},[e("img",{staticClass:"image",attrs:{src:t.listing.imageUrl,alt:"Product"}}),e("p",{staticClass:"amount"},[t._v("N"+t._s(t._f("savageprice")(t.listing.amount)))]),e("div",{staticClass:"title"},[t._v("\n      "+t._s(t.listing.title)+"\n    ")]),e("div",{staticClass:"left-in-cart"},[t._v("\n      "+t._s(t.listing.left)+" left\n    ")]),e("div",{staticClass:"description"},[t._v("\n      "+t._s(t.listing.description)+"\n    ")]),e("div",{staticClass:"quantity cursor-pointer"},[e("div",{staticClass:"left-side",on:{click:t.decrementCount}},[t._v("\n      -\n      ")]),e("div",{staticClass:"middle"},[t._v("\n      QUANTITY "+t._s(t.isInCart(t.listing.id)?t.cartCount(t.listing.id):t.listingCount)+"\n      ")]),e("div",{staticClass:"right-side",on:{click:t.incrementCount}},[t._v("\n      +\n      ")])]),e("button",{staticClass:"btn btn-primary add-to-cart",on:{click:function(n){t.handleCart(t.listing.id)}}},[t._v("\n      "+t._s(t.isInCart(t.listing.id)?"REMOVE FROM CART":"ADD TO CART")+"\n    ")]),e("button",{staticClass:"btn btn-transparent btn-checkout",on:{click:t.goToCheckout}},[t._v("Checkout now")])])])},v=[],h={name:"listing-modal",data:function(){return{listingCount:1}},computed:Object(g["a"])({},Object(p["c"])(["modals","listingModalItem","isInCart","cartCount"]),Object(p["c"])({listing:"listingModalItem"})),methods:Object(g["a"])({},Object(p["b"])(["clearModals","decrementInCart","addToCart"]),{incrementCount:function(){this.listingCount++},decrementCount:function(){this.listingCount>1&&this.listingCount--},addToCartWithCount:function(t){this.addToCart({productId:t,count:this.listingCount})},handleCart:function(t){this.isInCart(t)?this.decrementInCart(t):this.addToCartWithCount(t)},closeModal:function(){this.listingCount=1,this.clearModals()},goToCheckout:function(){this.$router.push({name:"cart"})}})},C=h,b=Object(a["a"])(C,m,v,!1,null,null,null),_=b.exports,y=function(){var t=this,n=t.$createElement;t._self._c;return t._m(0)},M=[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"loading-box"},[e("i",{staticClass:"fa fa-spinner fa-pulse fa-3x fa-fw"}),e("span",{staticClass:"sr-only"},[t._v("Loading...")])])}],w={name:"loading"},k=w,P=(e("6100"),Object(a["a"])(k,y,M,!1,null,"4a228cf8",null)),T=P.exports,I={name:"home",components:{ListingModal:_,Loading:T},mounted:function(){this.fetchProducts()},computed:Object(g["a"])({},Object(p["c"])(["listings","cartProducts","isInCart"])),methods:Object(g["a"])({},Object(p["b"])(["openListingModal","fetchProducts","loadMoreProducts","decrementInCart","addToCart"]),{handleCart:function(t){this.isInCart(t)?this.decrementInCart(t):this.addToCart({productId:t})}})},O=I,j=Object(a["a"])(O,d,f,!1,null,null,null),L=j.exports;o["default"].use(u["a"]);var x=new u["a"]({mode:"history",base:"/",routes:[{path:"/",name:"home",component:L},{path:"/cart",name:"cart",component:function(){return e.e("cart").then(e.bind(null,"b789"))}}]}),E=e("f499"),S=e.n(E),A=e("e814"),N=e.n(A),F=e("bc3a"),$=e.n(F);o["default"].use(p["a"]);var R="/listingjson";function U(t,n){var e=t.map(function(t){return t.id}),o=e.indexOf(n),i=t[o];return{product:i,index:o}}function q(t){return JSON.parse(localStorage.getItem(t))}var B=new p["a"].Store({state:{cart:{products:q("cartProducts")||[]},listings:{products:[],loading:!1,moreLoading:!1,perPage:10},modals:{listingModal:!1},listingModalItem:{},checkoutMessage:null},getters:{cart:function(t){return t.cart},cartProducts:function(t){return t.cart.products},cartTotal:function(t){return t.cart.products.length?t.cart.products.reduce(function(t,n){return t+n.amount*N()(n.count)},0):0},isInCart:function(t){return function(n){var e=U(t.cart.products,n).product;return void 0!==e}},cartCount:function(t){return function(n){var e=U(t.cart.products,n).product;return e.count}},listings:function(t){return t.listings},modals:function(t){return t.modals},listingModalItem:function(t){return t.listingModalItem},checkoutMessage:function(t){return t.checkoutMessage}},mutations:{clearModals:function(t){t.modals.listingModal=!1},openListingModal:function(t,n){t.modals.listingModal=!0,t.listingModalItem=n||{}},setProducts:function(t,n){var e=t.listings.products;if(n.length!==e.length){var o=0==e.length?0:e.length-1,i=o+t.listings.perPage;e.push.apply(e,n.slice(o,i)||[])}},setProductsLoading:function(t,n){t.listings.loading=n},setCheckoutMessage:function(t,n){t.checkoutMessage=n||null},setMoreProductsLoading:function(t,n){t.listings.moreLoading=n},addToCart:function(t,n){var e=n.productId,o=n.count||0,i=U(t.listings.products,e).product,r=U(t.cart.products,e).product;r?r&&!r.count?r.count=1:r.count++:(i.count=o||1,t.cart.products.push(i))},decrementInCart:function(t,n){var e=U(t.cart.products,n),o=e.product,i=e.index;o&&(o.count<=1?t.cart.products.splice(i,1):t.cart.products[i].count--)},removeFromCart:function(t,n){var e=U(t.cart.products,n).index,o=U(t.cart.products,n).product;o&&t.cart.products.splice(e,1)},persistCart:function(t){localStorage.setItem("cartProducts",S()(t.cart.products))}},actions:{clearModals:function(t){var n=t.commit;n("clearModals")},openListingModal:function(t,n){var e=t.commit;e("openListingModal",n)},fetchProducts:function(t){var n=t.commit;n("setProductsLoading",!0),setTimeout(function(){$.a.get(R).then(function(t){console.log(t),n("setProducts",t.data.listings)}).catch(function(t){console.log(t)}).finally(function(){n("setProductsLoading",!1)})},1e3)},loadMoreProducts:function(t){var n=t.commit;n("setMoreProductsLoading",!0),setTimeout(function(){$.a.get(R).then(function(t){console.log(t),n("setProducts",t.data.listings)}).catch(function(t){console.log(t)}).finally(function(){n("setMoreProductsLoading",!1)})},1e3)},addToCart:function(t,n){var e=t.commit;e("addToCart",n),e("persistCart")},removeFromCart:function(t,n){var e=t.commit;e("removeFromCart",n),e("persistCart")},incrementInCart:function(t,n){var e=t.commit;e("addToCart",n),e("persistCart")},decrementInCart:function(t,n){var e=t.commit;e("decrementInCart",n),e("persistCart")},checkoutCart:function(t){var n=t.commit,e=t.state;$.a.post("http://www.mocky.io/v2/5be477442f00004900d9f521",{products:e.cart.products}).then(function(t){console.log(t),n("setCheckoutMessage",t.data.message)}).catch(function(t){console.log(t)})}}}),D=e("9483");Object(D["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});var J=e("5c96"),W=e("b2d6"),G=e.n(W);e("0fae");o["default"].use(J["Dialog"],{locale:G.a}),o["default"].config.productionTip=!1,o["default"].filter("savageprice",function(t){return t?(t=t.toString(),t.match(/.{1,3}/g).join(",")):"0"}),new o["default"]({router:x,store:B,render:function(t){return t(l)}}).$mount("#app")},"5c0b":function(t,n,e){"use strict";var o=e("5e27"),i=e.n(o);i.a},"5e27":function(t,n,e){},6100:function(t,n,e){"use strict";var o=e("5106"),i=e.n(o);i.a}});
//# sourceMappingURL=app.46f4cc9c.js.map